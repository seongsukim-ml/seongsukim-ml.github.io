<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8">
    <title>ìµœì†Œ í…ŒìŠ¤íŠ¸</title>
    <style>
        body { font-family: monospace; padding: 2rem; max-width: 800px; margin: 0 auto; }
        .pass { color: green; font-weight: bold; }
        .fail { color: red; font-weight: bold; }
        pre { background: #f5f5f5; padding: 1rem; overflow-x: auto; }
    </style>
</head>
<body>
    <h1>ğŸ” ë¸”ë¡œê·¸ ë¡œë”© í…ŒìŠ¤íŠ¸</h1>
    <div id="results">í…ŒìŠ¤íŠ¸ ì‹œì‘...</div>

    <script>
        const results = document.getElementById('results');
        let html = '';

        // Test 1: Protocol
        html += '<h2>1. í”„ë¡œí† ì½œ í™•ì¸</h2>';
        const protocol = window.location.protocol;
        html += `<p>í˜„ì¬ í”„ë¡œí† ì½œ: <code>${protocol}</code></p>`;

        if (protocol === 'file:') {
            html += '<p class="fail">âŒ FAIL: file:// í”„ë¡œí† ì½œì„ ì‚¬ìš© ì¤‘ì…ë‹ˆë‹¤!</p>';
            html += '<p><strong>ì´ê²ƒì´ ë¬¸ì œì…ë‹ˆë‹¤!</strong> ë°˜ë“œì‹œ ì›¹ ì„œë²„ë¥¼ ì‚¬ìš©í•´ì•¼ í•©ë‹ˆë‹¤:</p>';
            html += '<pre>python3 -m http.server 8000</pre>';
        } else {
            html += '<p class="pass">âœ… PASS: ì›¹ ì„œë²„ë¥¼ í†µí•´ ì ‘ì†í–ˆìŠµë‹ˆë‹¤.</p>';
        }

        // Test 2: Fetch JSON
        html += '<h2>2. JSON ë¡œë”© í…ŒìŠ¤íŠ¸</h2>';
        html += '<p id="fetch-test">í…ŒìŠ¤íŠ¸ ì¤‘...</p>';

        results.innerHTML = html;

        async function testFetch() {
            try {
                const response = await fetch('data/profile.json');
                if (!response.ok) {
                    throw new Error(`HTTP ${response.status}`);
                }
                const data = await response.json();

                document.getElementById('fetch-test').innerHTML =
                    '<span class="pass">âœ… PASS: profile.json ë¡œë“œ ì„±ê³µ!</span>' +
                    '<pre>' + JSON.stringify(data, null, 2).substring(0, 500) + '...</pre>';

                // Test main page
                results.innerHTML += '<h2>3. ê²°ë¡ </h2>';
                results.innerHTML += '<p class="pass">ëª¨ë“  í…ŒìŠ¤íŠ¸ í†µê³¼! ë©”ì¸ í˜ì´ì§€ê°€ ì‘ë™í•´ì•¼ í•©ë‹ˆë‹¤.</p>';
                results.innerHTML += '<p><a href="index.html" style="font-size: 1.5rem; background: green; color: white; padding: 1rem 2rem; text-decoration: none; border-radius: 8px; display: inline-block; margin: 1rem 0;">ğŸ  ë©”ì¸ í˜ì´ì§€ ì—´ê¸°</a></p>';
                results.innerHTML += '<p><strong>ìºì‹œ ë¬¸ì œì¼ ìˆ˜ ìˆìŠµë‹ˆë‹¤. ë©”ì¸ í˜ì´ì§€ì—ì„œ ê°•ì œ ìƒˆë¡œê³ ì¹¨ í•˜ì„¸ìš”:</strong></p>';
                results.innerHTML += '<ul><li>Mac: <code>Cmd + Shift + R</code></li><li>Windows: <code>Ctrl + Shift + R</code></li></ul>';

            } catch (error) {
                document.getElementById('fetch-test').innerHTML =
                    '<span class="fail">âŒ FAIL: ' + error.message + '</span>';

                results.innerHTML += '<h2>3. ê²°ë¡ </h2>';
                results.innerHTML += '<p class="fail">JSON ë¡œë”© ì‹¤íŒ¨! ì´ê²ƒì´ "Error Loading Data" ì—ëŸ¬ì˜ ì›ì¸ì…ë‹ˆë‹¤.</p>';

                if (protocol === 'file:') {
                    results.innerHTML += '<h3>í•´ê²° ë°©ë²•:</h3>';
                    results.innerHTML += '<ol>';
                    results.innerHTML += '<li>í„°ë¯¸ë„ì„ ì—½ë‹ˆë‹¤</li>';
                    results.innerHTML += '<li><code>cd /ê²½ë¡œ/to/new_blog</code> ì‹¤í–‰</li>';
                    results.innerHTML += '<li><code>python3 -m http.server 8000</code> ì‹¤í–‰</li>';
                    results.innerHTML += '<li>ë¸Œë¼ìš°ì €ì—ì„œ <code>http://localhost:8000/test.html</code> ì ‘ì†</li>';
                    results.innerHTML += '</ol>';
                } else {
                    results.innerHTML += '<p>ì›¹ ì„œë²„ëŠ” ì‹¤í–‰ ì¤‘ì´ì§€ë§Œ JSON íŒŒì¼ì„ ì°¾ì„ ìˆ˜ ì—†ìŠµë‹ˆë‹¤.</p>';
                    results.innerHTML += '<p>ì„œë²„ë¥¼ <strong>new_blog</strong> í´ë”ì—ì„œ ì‹¤í–‰í–ˆëŠ”ì§€ í™•ì¸í•˜ì„¸ìš”!</p>';
                }
            }
        }

        testFetch();
    </script>
</body>
</html>
